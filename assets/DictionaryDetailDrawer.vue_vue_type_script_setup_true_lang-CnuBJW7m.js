var k=Object.defineProperty;var h=Object.getOwnPropertySymbols;var S=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable;var w=(e,a,t)=>a in e?k(e,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[a]=t,g=(e,a)=>{for(var t in a||(a={}))S.call(a,t)&&w(e,t,a[t]);if(h)for(var t of h(a))_.call(a,t)&&w(e,t,a[t]);return e};var y=(e,a,t)=>new Promise((o,c)=>{var m=n=>{try{l(t.next(n))}catch(u){c(u)}},d=n=>{try{l(t.throw(n))}catch(u){c(u)}},l=n=>n.done?o(n.value):Promise.resolve(n.value).then(m,d);l((t=t.apply(e,a)).next())});import{b as x,c as F}from"./useForm-BzgFlAKs.js";import{b as R,as as C,v as B}from"./entry/index-BPNJPE-d-1727367563404.js";import{a as b,b as P}from"./copyTextToClipboard-DU2l1C12.js";import{g as q}from"./dictionary-HzT8O3R9.js";import{l as N,d as A,f as L,c as T,u as r,S as U,U as V,X as G,k as $,a0 as j}from"./vue-D0RdBkD6.js";import{Q as z}from"./antd-CnnxMtH0.js";import{a as O,B as Q}from"./index-CaWdKrxn.js";const{t:s}=R(),ee=[{title:s("common.displayName"),dataIndex:"title",width:100},{title:s("sys.dictionary.key"),dataIndex:"key",width:100},{title:s("sys.dictionary.value"),dataIndex:"value",width:100},{title:s("common.status"),dataIndex:"status",width:50,customRender:({record:e})=>(Reflect.has(e,"pendingStatus")||(e.pendingStatus=!1),N(z,{checked:e.status===1,checkedChildren:s("common.on"),unCheckedChildren:s("common.off"),loading:e.pendingStatus,onChange(a,t){e.pendingStatus=!0;const o=a?1:2;b({id:e.id,status:o}).then(()=>{e.status=o}).finally(()=>{e.pendingStatus=!1})}}))},{title:s("common.createTime"),dataIndex:"createdAt",width:70,customRender:({record:e})=>C(e.createdAt)}],te=[{field:"key",label:s("sys.dictionary.key"),component:"Input",colProps:{span:8}}],W=[{field:"id",label:"ID",component:"Input",show:!1},{field:"title",label:s("common.displayName"),component:"Input",required:!0,rules:[{max:50}]},{field:"key",label:s("sys.dictionary.key"),component:"Input",required:!0,rules:[{max:80}]},{field:"value",label:s("sys.dictionary.value"),component:"Input",required:!0,rules:[{max:100}]},{field:"sort",label:s("common.sort"),component:"InputNumber",required:!0,rules:[{type:"number",max:1e4}]},{field:"status",label:s("common.status"),component:"RadioButtonGroup",defaultValue:1,componentProps:{options:[{label:s("common.on"),value:1},{label:s("common.off"),value:2}]}},{field:"dictionaryId",label:s("sys.dictionary.name"),component:"ApiSelect",required:!0,componentProps:{api:q,params:{page:1,pageSize:1e3},resultField:"data.data",labelField:"title",valueField:"id"}}],ae=A({__name:"DictionaryDetailDrawer",emits:["success","register"],setup(e,{emit:a}){const t=a,o=L(!0),{t:c}=B.useI18n(),[m,{resetFields:d,setFieldsValue:l,validate:n}]=x({labelWidth:160,baseColProps:{span:24},layout:"vertical",schemas:W,showActionButtonGroup:!1}),[u,{setDrawerProps:p,closeDrawer:D}]=O(i=>y(this,null,function*(){yield d(),p({confirmLoading:!1}),o.value=!!(i!=null&&i.isUpdate);const f=i==null?void 0:i.dictionaryId;r(o)?yield l(g({},i.record)):yield l({dictionaryId:f})})),I=T(()=>r(o)?c("sys.dictionary.editDictionaryDetail"):c("sys.dictionary.addDictionaryDetail"));function v(){return y(this,null,function*(){const i=yield n();p({confirmLoading:!0}),i.id=r(o)?Number(i.id):0,(r(o)?yield b(i):yield P(i)).code===0&&(D(),t("success")),p({confirmLoading:!1})})}return(i,f)=>(U(),V(r(Q),j(i.$attrs,{onRegister:r(u),showFooter:"",title:I.value,width:"35%",onOk:v}),{default:G(()=>[$(r(F),{onRegister:r(m)},null,8,["onRegister"])]),_:1},16,["onRegister","title"]))}});export{ae as _,ee as c,te as s};
