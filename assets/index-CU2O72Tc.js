var Q=Object.defineProperty,ee=Object.defineProperties;var te=Object.getOwnPropertyDescriptors;var D=Object.getOwnPropertySymbols;var oe=Object.prototype.hasOwnProperty,ne=Object.prototype.propertyIsEnumerable;var V=(a,e,o)=>e in a?Q(a,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):a[e]=o,E=(a,e)=>{for(var o in e||(e={}))oe.call(e,o)&&V(a,o,e[o]);if(D)for(var o of D(e))ne.call(e,o)&&V(a,o,e[o]);return a},M=(a,e)=>ee(a,te(e));var K=(a,e,o)=>new Promise((s,m)=>{var $=c=>{try{p(o.next(c))}catch(C){m(C)}},v=c=>{try{p(o.throw(c))}catch(C){m(C)}},p=c=>c.done?s(c.value):Promise.resolve(c.value).then($,v);p((o=o.apply(a,e)).next())});import{f as G,j as ae,_ as re,aC as se,aD as ie,p as d,aE as ce,aF as U,am as L}from"./entry/index-BPNJPE-d-1727367563404.js";import{d as O,S as T,a8 as N,ab as j,Y as F,a9 as x,u,aa as Y,f as w,w as q,y as I,H as le,K as fe,ai as ue,p as ge,c as H,U as X,af as de,ad as pe,X as W,a0 as he,Z,_ as me,$ as He,F as ye,G as be,ac as Fe}from"./vue-D0RdBkD6.js";import{a as ve}from"./useContentViewHeight-b3bBSljJ.js";import{o as Ce}from"./onMountedOrActivated-CyX9qi6i.js";import{u as Se}from"./useWindowSizeFn-C71HDhub.js";import{i as ke}from"./isNumber-j3SIk7av.js";import{a0 as $e}from"./antd-CnnxMtH0.js";const _e=O({name:"PageFooter",inheritAttrs:!1,__name:"PageFooter",setup(a){const{prefixCls:e}=G("page-footer"),{getCalcContentWidth:o}=ae();return(s,m)=>(T(),N("div",{class:x(u(e)),style:Y({width:u(o)})},[j("div",{class:x(`${u(e)}__left`)},[F(s.$slots,"left",{},void 0,!0)],2),F(s.$slots,"default",{},void 0,!0),j("div",{class:x(`${u(e)}__right`)},[F(s.$slots,"right",{},void 0,!0)],2)],6))}}),J=re(_e,[["__scopeId","data-v-dafa78ce"]]);function Pe(a,e,o,s,m=0,$=w(0)){const v=w(null),{footerHeightRef:p}=ve();let c={useLayoutFooter:!0};const C=i=>{c=i};function z(){I(()=>{P()})}function S(i,R="all"){var b,k,n,h;function y(t){return Number(t.replace(/[^\d]/g,""))}let f=0;const g="0px";if(i){const t=getComputedStyle(i),r=y((b=t==null?void 0:t.marginTop)!=null?b:g),l=y((k=t==null?void 0:t.marginBottom)!=null?k:g),B=y((n=t==null?void 0:t.paddingTop)!=null?n:g),A=y((h=t==null?void 0:t.paddingBottom)!=null?h:g);R==="all"?(f+=r,f+=l,f+=B,f+=A):R==="top"?(f+=r,f+=B):(f+=l,f+=A)}return f}function _(i){return i==null?null:i instanceof HTMLDivElement?i:i.$el}function P(){return K(this,null,function*(){var h;if(!a.value)return;yield I();const i=_(u(e));if(!i)return;const{bottomIncludeBody:R}=se(i);let y=0;o.forEach(t=>{var r,l;y+=(l=(r=_(u(t)))==null?void 0:r.offsetHeight)!=null?l:0});let f=(h=S(i))!=null?h:0;s.forEach(t=>{f+=S(_(u(t)))});let g=0;function b(t,r){if(t&&r){const l=t.parentElement;l&&(ie(r)?l.classList.contains(r)?g+=S(l,"bottom"):(g+=S(l,"bottom"),b(l,r)):ke(r)&&r>0&&(g+=S(l,"bottom"),b(l,--r)))}}le(m)?b(i,u(m)):b(i,m);let k=R-u(p)-u($)-y-f-g;const n=()=>{var t;(t=c.elements)==null||t.forEach(r=>{var l,B;k+=(B=(l=_(u(r)))==null?void 0:l.offsetHeight)!=null?B:0})};c.useLayoutFooter&&u(p)>0,n(),v.value=k})}return Ce(()=>{I(()=>{P()})}),Se(()=>{P()},{wait:50,immediate:!0}),q(()=>[p.value],()=>{P()},{flush:"post",immediate:!0}),{redoHeight:z,setCompensation:C,contentHeight:v}}const Re=O({name:"PageWrapper",inheritAttrs:!1,__name:"PageWrapper",props:{title:d.string,dense:d.bool,ghost:d.bool,headerSticky:d.bool,headerStyle:Object,content:d.string,contentStyle:{type:Object},contentBackground:d.bool,contentFullHeight:d.bool.def(!1),contentClass:d.string,fixedHeight:d.bool,upwardSpace:d.oneOfType([d.number,d.string]).def(0)},setup(a){const e=a,o=fe(),s=ue(),m=w(null),$=w(null),v=w(null),p=w(null),{prefixCls:c}=G("page-wrapper");ge(ce,H(()=>e.fixedHeight));const C=H(()=>e.contentFullHeight),z=H(()=>e.upwardSpace),{redoHeight:S,setCompensation:_,contentHeight:P}=Pe(C,m,[$,p],[v],z);_({useLayoutFooter:!0,elements:[p]});const i=H(()=>{var n;return[c,{[`${c}--dense`]:e.dense},(n=o.class)!=null?n:{}]}),R=H(()=>{const{headerSticky:n}=e;return n?E({position:"sticky",top:0,zIndex:99},e.headerStyle):{}}),y=H(()=>e.content||(s==null?void 0:s.headerContent)||e.title||g.value.length),f=H(()=>(s==null?void 0:s.leftFooter)||(s==null?void 0:s.rightFooter)),g=H(()=>Object.keys(U(s,["default","leftFooter","rightFooter","headerContent"]))),b=H(()=>{const{contentFullHeight:n,contentStyle:h,fixedHeight:t}=e;if(!n)return E({},h);const r=`${u(P)}px`;return E(M(E({},h),{minHeight:r}),t?{height:r}:{})}),k=H(()=>{const{contentBackground:n,contentClass:h}=e;return[`${c}-content`,h,{[`${c}-content-bg`]:n}]});return q(()=>[f.value],()=>{S()},{flush:"post",immediate:!0}),(n,h)=>(T(),N("div",{class:x(i.value),ref_key:"wrapperRef",ref:m},[y.value?(T(),X(u($e),he({key:0,ghost:a.ghost,title:a.title},u(U)(n.$attrs,["class"]),{style:R.value,ref_key:"headerRef",ref:$}),de({default:W(()=>[a.content?(T(),N(ye,{key:0},[be(Fe(a.content),1)],64)):F(n.$slots,"headerContent",{key:1})]),_:2},[pe(g.value,t=>({name:t,fn:W(r=>[F(n.$slots,t,me(He(r||{})))])}))]),1040,["ghost","title","style"])):Z("",!0),j("div",{class:x(["overflow-hidden",k.value]),style:Y(b.value),ref_key:"contentRef",ref:v},[F(n.$slots,"default")],6),f.value?(T(),X(J,{key:1,ref_key:"footerRef",ref:p},{left:W(()=>[F(n.$slots,"leftFooter")]),right:W(()=>[F(n.$slots,"rightFooter")]),_:3},512)):Z("",!0)],2))}});L(J);const Ne=L(Re);export{Ne as P};
