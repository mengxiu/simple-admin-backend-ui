var z=Object.defineProperty,U=Object.defineProperties;var X=Object.getOwnPropertyDescriptors;var A=Object.getOwnPropertySymbols;var Z=Object.prototype.hasOwnProperty,q=Object.prototype.propertyIsEnumerable;var N=(l,r,a)=>r in l?z(l,r,{enumerable:!0,configurable:!0,writable:!0,value:a}):l[r]=a,R=(l,r)=>{for(var a in r||(r={}))Z.call(r,a)&&N(l,a,r[a]);if(A)for(var a of A(r))q.call(r,a)&&N(l,a,r[a]);return l},$=(l,r)=>U(l,X(r));var D=(l,r,a)=>new Promise((y,g)=>{var C=f=>{try{p(a.next(f))}catch(k){g(k)}},d=f=>{try{p(a.throw(f))}catch(k){g(k)}},p=f=>f.done?y(f.value):Promise.resolve(f.value).then(C,d);p((a=a.apply(l,r)).next())});import{d as H,f as J,a7 as K,h as Q,S as o,a8 as b,k as L,X as m,F as T,ad as V,U as _,af as W,u as i,Z as F,ac as M,G,a9 as Y,ae as I}from"./vue-D0RdBkD6.js";import{p as ee,f as ae,k as te,u as ne,m as O,b as re,aD as se,R as ue,N as ce,r as le,b7 as ie}from"./entry/index-BPNJPE-d-1727367563404.js";import{j as oe,au as fe,b2 as he,b3 as me}from"./antd-CnnxMtH0.js";const de={key:1},pe={key:1},be=H({name:"LayoutBreadcrumb",__name:"Breadcrumb",props:{theme:ee.oneOf(["dark","light"])},setup(l){const r=J([]),{currentRoute:a}=K(),{prefixCls:y}=ae("layout-breadcrumb"),{getShowBreadCrumbIcon:g}=te(),C=ne(),{t:d}=re();Q(()=>D(this,null,function*(){var x,E,P,S;if(a.value.name===ue)return;const c=yield ce(),n=a.value.matched,t=n==null?void 0:n[n.length-1];let e=a.value.path;t&&((x=t==null?void 0:t.meta)!=null&&x.currentActiveMenu)&&(e=t.meta.currentActiveMenu);const s=le(c,e),u=c.filter(j=>j.path===s[0]),h=p(u,s);if(!h||h.length===0){r.value=[];return}const v=f(h);(E=a.value.meta)!=null&&E.currentActiveMenu&&!((P=a.value.meta)!=null&&P.hideBreadcrumb)&&v.push($(R({},a.value),{name:((S=a.value.meta)==null?void 0:S.title)||a.value.name})),r.value=v}));function p(c,n){const t=[];return c.forEach(e=>{var s,u;n.includes(e.path)&&t.push($(R({},e),{name:((s=e.meta)==null?void 0:s.title)||e.name})),(u=e.children)!=null&&u.length&&t.push(...p(e.children,n))}),t}function f(c){return ie(c,n=>{const{meta:t,name:e}=n;if(!t)return!!e;const{title:s,hideBreadcrumb:u,hideMenu:h}=t;return!(!s||u||h)}).filter(n=>{var t;return!((t=n.meta)!=null&&t.hideBreadcrumb)})}function k(c){const{children:n,redirect:t,meta:e}=c;if(!(n!=null&&n.length&&!t)&&!(e!=null&&e.carryParam))if(t&&se(t))C(t);else{let s;c.path?s=c.path:s="",s=/^\//.test(s)?s:`/${s}`,C(s)}}function w(c,n){return c.indexOf(n)!==c.length-1}function B(c){var n;return c.icon||((n=c.meta)==null?void 0:n.icon)}return(c,n)=>{const t=I("router-link");return o(),b("div",{class:Y([i(y),`${i(y)}--${l.theme}`])},[L(i(me),null,{default:m(()=>[(o(!0),b(T,null,V(r.value,e=>{var s;return o(),_(i(he),{key:e.name},W({default:m(()=>[i(g)&&B(e)?(o(),_(O,{key:0,icon:B(e),inline:!0,width:24,height:14},null,8,["icon"])):F("",!0),w(r.value,e)?(o(),_(t,{key:2,to:"",onClick:u=>k(e)},{default:m(()=>[G(M(i(d)(e.meta.title||e.name)),1)]),_:2},1032,["onClick"])):(o(),b("span",de,M(i(d)(e.meta.title||e.name)),1))]),_:2},[e.children&&!((s=e.meta)!=null&&s.hideChildrenInMenu)?{name:"overlay",fn:m(()=>[L(i(oe),null,{default:m(()=>[(o(!0),b(T,null,V(e.children,u=>(o(),_(i(fe),{key:u.name},{default:m(()=>{var h;return[i(g)&&B(u)?(o(),_(O,{key:0,icon:B(u),inline:!0,width:24,height:14},null,8,["icon"])):F("",!0),w(r.value,u)?(o(),_(t,{key:2,to:"",onClick:v=>k(u)},{default:m(()=>{var v;return[G(M(i(d)(((v=u.meta)==null?void 0:v.title)||u.name)),1)]}),_:2},1032,["onClick"])):(o(),b("span",pe,M(i(d)(((h=u.meta)==null?void 0:h.title)||u.name)),1))]}),_:2},1024))),128))]),_:2},1024)]),key:"0"}:void 0]),1024)}),128))]),_:1})],2)}}});export{be as default};
