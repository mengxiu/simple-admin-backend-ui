var f=(x,i,o)=>new Promise((c,y)=>{var g=u=>{try{m(o.next(u))}catch(d){y(d)}},_=u=>{try{m(o.throw(u))}catch(d){y(d)}},m=u=>u.done?c(u.value):Promise.resolve(u.value).then(g,_);m((o=o.apply(x,i)).next())});import{P as F}from"./index-CU2O72Tc.js";import{a as D,v as J,_ as N}from"./entry/index-BPNJPE-d-1727367563404.js";import{n as P,I as B,o as R,p as A,R as V,d as h}from"./antd-CnnxMtH0.js";import{d as T,f as p,S as H,U as O,X as e,k as a,u as t,ab as n,G as v,ac as r,ae as W}from"./vue-D0RdBkD6.js";import"./useContentViewHeight-b3bBSljJ.js";import"./useWindowSizeFn-C71HDhub.js";import"./onMountedOrActivated-CyX9qi6i.js";import"./isNumber-j3SIk7av.js";const X=()=>D.get({url:"/sys-api/core/init/database"}),q=()=>D.get({url:"/sys-api/core/init/job_database"}),E=()=>D.get({url:"/sys-api/core/init/mcms_database"}),K=()=>D.get({url:"/fms-api/init/database"}),Q=()=>D.get({url:"/mms-api/init/database"}),Y=T({__name:"index",setup(x){const{t:i}=J.useI18n(),o=R,c=A,y=V,g=p(!1),_=p(!1),m=p(!1),u=p(!1),d=p(!1),M=p(!1),k=p("http://localhost"),w=p("9100"),I=p("");function S(){return f(this,null,function*(){const s=I.value==""?"":"/"+I.value;M.value=!0,window.open(k.value+":"+w.value+s+"/init/database","_blank"),M.value=!1})}function G(){return f(this,null,function*(){g.value=!0;const s=yield X().finally(()=>{g.value=!1});s.code===0&&h.success(s.msg,3)})}function L(){return f(this,null,function*(){_.value=!0;const s=yield K().finally(()=>{_.value=!1});s.code===0&&h.success(s.msg,3)})}function U(){return f(this,null,function*(){m.value=!0;const s=yield Q().finally(()=>{m.value=!1});s.code===0&&h.success(s.msg,3)})}function z(){return f(this,null,function*(){u.value=!0;const s=yield q().finally(()=>{u.value=!1});s.code===0&&h.success(s.msg,3)})}function j(){return f(this,null,function*(){d.value=!0;const s=yield E().finally(()=>{d.value=!1});s.code===0&&h.success(s.msg,3)})}return(s,l)=>{const b=W("a-button");return H(),O(t(F),{title:t(i)("sys.init.initTitle"),"content-full-height":!0,class:"bg"},{default:e(()=>[a(t(y),{gutter:[16,16]},{default:e(()=>[a(t(c),{span:6},{default:e(()=>[a(t(o),{title:t(i)("sys.init.initCoreDatabase"),hoverable:!0},{default:e(()=>[l[3]||(l[3]=n("p",null,[n("a",{href:"https://github.com/suyuan32/simple-admin-core"},"Core Github")],-1)),a(b,{type:"primary",loading:g.value,onClick:G},{default:e(()=>[v(r(t(i)("common.start")),1)]),_:1},8,["loading"])]),_:1},8,["title"])]),_:1}),a(t(c),{span:6},{default:e(()=>[a(t(o),{title:t(i)("sys.init.initFileDatabase"),hoverable:!0},{default:e(()=>[l[4]||(l[4]=n("p",null,[n("a",{href:"https://github.com/suyuan32/simple-admin-file"},"File Manager Github")],-1)),a(b,{type:"primary",loading:_.value,onClick:L},{default:e(()=>[v(r(t(i)("common.start")),1)]),_:1},8,["loading"])]),_:1},8,["title"])]),_:1}),a(t(c),{span:6},{default:e(()=>[a(t(o),{title:t(i)("sys.init.initMMSDatabase"),hoverable:!0},{default:e(()=>[l[5]||(l[5]=n("p",null,[n("a",{href:"https://github.com/suyuan32/simple-admin-member-api"},"Member Github")],-1)),a(b,{type:"primary",loading:m.value,onClick:U},{default:e(()=>[v(r(t(i)("common.start")),1)]),_:1},8,["loading"])]),_:1},8,["title"])]),_:1}),a(t(c),{span:6},{default:e(()=>[a(t(o),{title:t(i)("sys.init.initJobDatabase"),hoverable:!0},{default:e(()=>[l[6]||(l[6]=n("p",null,[n("a",{href:"https://github.com/suyuan32/simple-admin-job"},"Job Github")],-1)),a(b,{type:"primary",loading:u.value,onClick:z},{default:e(()=>[v(r(t(i)("common.start")),1)]),_:1},8,["loading"])]),_:1},8,["title"])]),_:1}),a(t(c),{span:6},{default:e(()=>[a(t(o),{title:t(i)("sys.init.initMcmsDatabase"),hoverable:!0},{default:e(()=>[l[7]||(l[7]=n("p",null,[n("a",{href:"https://github.com/suyuan32/simple-admin-message-center"},"Mcms Github")],-1)),a(b,{type:"primary",loading:d.value,onClick:j},{default:e(()=>[v(r(t(i)("common.start")),1)]),_:1},8,["loading"])]),_:1},8,["title"])]),_:1})]),_:1}),a(t(P)),a(t(y),null,{default:e(()=>[a(t(c),{span:12},{default:e(()=>[a(t(o),{title:t(i)("sys.init.initCustom"),hoverable:!0},{default:e(()=>[n("p",null,r(t(i)("sys.init.initUrl")),1),n("p",null,[a(t(B),{value:k.value,"onUpdate:value":l[0]||(l[0]=C=>k.value=C)},null,8,["value"])]),n("p",null,r(t(i)("sys.init.initPort")),1),n("p",null,[a(t(B),{value:w.value,"onUpdate:value":l[1]||(l[1]=C=>w.value=C)},null,8,["value"])]),n("p",null,r(t(i)("sys.init.initService")),1),n("p",null,[a(t(B),{value:I.value,"onUpdate:value":l[2]||(l[2]=C=>I.value=C),placeholder:t(i)("sys.init.initOptional")},null,8,["value","placeholder"])]),n("p",null,r(t(i)("sys.init.initRedirect")),1),n("p",null,[a(b,{type:"primary",loading:M.value,onClick:S},{default:e(()=>[v(r(t(i)("common.start")),1)]),_:1},8,["loading"])])]),_:1},8,["title"])]),_:1})]),_:1})]),_:1},8,["title"])}}}),ot=N(Y,[["__scopeId","data-v-9a6618b1"]]);export{ot as default};
