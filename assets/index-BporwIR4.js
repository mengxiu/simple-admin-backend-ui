var l=(h,o,i)=>new Promise((a,m)=>{var p=e=>{try{r(i.next(e))}catch(s){m(s)}},d=e=>{try{r(i.throw(e))}catch(s){m(s)}},r=e=>e.done?a(e.value):Promise.resolve(e.value).then(p,d);r((i=i.apply(h,o)).next())});import{i as E}from"./index-D0CbPeO-.js";import{u as M,_ as N}from"./useTable-C1zHh-l8.js";import{a as U}from"./useForm-BzgFlAKs.js";import{v as V,u as $,aq as F}from"./entry/index-BPNJPE-d-1727367563404.js";import{u as G}from"./index-CaWdKrxn.js";import{c as L,s as O,_ as W}from"./DictionaryDrawer.vue_vue_type_script_setup_true_lang-CwNxOojd.js";import{g as j,d as g}from"./dictionary-HzT8O3R9.js";import{M as q}from"./antd-CnnxMtH0.js";import{d as A,f as C,ae as X,S as _,a8 as Z,k as u,X as c,U as w,u as n,G as b,ac as k,Z as D}from"./vue-D0RdBkD6.js";import"./ExclamationCircleOutlined-m2nOMvaL.js";import"./index-LAC3wiAG.js";import"./isBoolean-Dou3jA6I.js";import"./index-BoOgNZ_b.js";import"./useWindowSizeFn-C71HDhub.js";import"./isDeepEqual-DIYWxe5x.js";import"./isNumber-j3SIk7av.js";import"./index-DDNUB-iW.js";import"./object-BY_VTB7H.js";import"./onMountedOrActivated-CyX9qi6i.js";import"./sortable.esm-BEDva30o.js";import"./index-DgmEQ_L6.js";import"./copyTextToClipboard-DU2l1C12.js";import"./useSortable-s3dauH_p.js";import"./index-BLETcaq3.js";import"./index-CBEN6l7B.js";const Ce=A({name:"DictionaryManagement",__name:"index",setup(h){const{t:o}=V.useI18n(),i=C(),a=C(!1),m=$(),[p,{openDrawer:d}]=G(),[r,{reload:e}]=M({title:o("sys.dictionary.dictionaryList"),api:j,columns:L,formConfig:{labelWidth:120,schemas:O},useSearchForm:!0,showTableSetting:!0,bordered:!0,showIndexColumn:!1,clickToRowSelect:!1,actionColumn:{width:30,title:o("common.action"),dataIndex:"action",fixed:void 0},rowKey:"id",rowSelection:{type:"checkbox",columnWidth:20,onChange:(t,f)=>{i.value=t,a.value=t.length>0}}});function s(){d(!0,{isUpdate:!1})}function v(t){d(!0,{record:t,isUpdate:!0})}function x(t){return l(this,null,function*(){(yield g({ids:[t.id]})).code===0&&(yield e())})}function S(){return l(this,null,function*(){q.confirm({title:o("common.deleteConfirm"),icon:u(E.ExclamationCircleOutlined),onOk(){return l(this,null,function*(){(yield g({ids:i.value})).code===0&&(a.value=!1,yield e())})},onCancel(){}})})}function B(){return l(this,null,function*(){yield e()})}function I(t){m("/dictionary/detail/"+t.id)}return(t,f)=>{const T=X("a-button");return _(),Z("div",null,[u(n(N),{onRegister:n(r)},{tableTitle:c(()=>[a.value?(_(),w(n(F),{key:0,type:"primary",danger:"",preIcon:"ant-design:delete-outlined",onClick:S},{default:c(()=>[b(k(n(o)("common.delete")),1)]),_:1})):D("",!0)]),toolbar:c(()=>[u(T,{type:"primary",onClick:s},{default:c(()=>[b(k(n(o)("sys.dictionary.addDictionary")),1)]),_:1})]),bodyCell:c(({column:R,record:y})=>[R.key==="action"?(_(),w(n(U),{key:0,actions:[{icon:"ant-design:file-add-outlined",onClick:I.bind(null,y)},{icon:"clarity:note-edit-line",onClick:v.bind(null,y)},{icon:"ant-design:delete-outlined",color:"error",popConfirm:{title:n(o)("common.deleteConfirm"),placement:"left",confirm:x.bind(null,y)}}]},null,8,["actions"])):D("",!0)]),_:1},8,["onRegister"]),u(W,{onRegister:n(p),onSuccess:B},null,8,["onRegister"])])}}});export{Ce as default};
