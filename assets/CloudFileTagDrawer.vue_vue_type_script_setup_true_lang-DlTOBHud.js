var _=Object.defineProperty;var g=Object.getOwnPropertySymbols;var C=Object.prototype.hasOwnProperty,S=Object.prototype.propertyIsEnumerable;var h=(e,a,t)=>a in e?_(e,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[a]=t,w=(e,a)=>{for(var t in a||(a={}))C.call(a,t)&&h(e,t,a[t]);if(g)for(var t of g(a))S.call(a,t)&&h(e,t,a[t]);return e};var p=(e,a,t)=>new Promise((n,r)=>{var u=l=>{try{m(t.next(l))}catch(c){r(c)}},d=l=>{try{m(t.throw(l))}catch(c){r(c)}},m=l=>l.done?n(l.value):Promise.resolve(l.value).then(u,d);m((t=t.apply(e,a)).next())});import{b as v,c as D}from"./useForm-BzgFlAKs.js";import{b as R,as as x,v as B}from"./entry/index-BPNJPE-d-1727367563404.js";import{u as F,c as P}from"./cloudFileTag-Df3Nxs6P.js";import{l as y,d as A,f as L,c as U,u as i,S as V,U as G,X as N,k as $,a0 as j}from"./vue-D0RdBkD6.js";import{Q as q}from"./antd-CnnxMtH0.js";import{a as O,B as Q}from"./index-CaWdKrxn.js";const{t:s}=R(),Y=[{title:s("fms.cloudFileTag.name"),dataIndex:"name",width:50},{title:s("fms.cloudFileTag.remark"),dataIndex:"remark",width:50},{title:s("common.status"),dataIndex:"status",width:20,customRender:({record:e})=>(Reflect.has(e,"pendingStatus")||(e.pendingStatus=!1),y(q,{checked:e.status===1,checkedChildren:s("common.on"),unCheckedChildren:s("common.off"),loading:e.pendingStatus,onChange(a,t){e.pendingStatus=!0;const n=a?1:2;F({id:e.id,status:n}).then(()=>{e.status=n}).finally(()=>{e.pendingStatus=!1})}}))},{title:s("common.createTime"),dataIndex:"createdAt",width:30,customRender:({record:e})=>x(e.createdAt)}],Z=[{field:"name",label:s("fms.cloudFileTag.name"),component:"Input",colProps:{span:8}},{field:"remark",label:s("fms.cloudFileTag.remark"),component:"Input",colProps:{span:8}}],W=[{field:"id",label:"ID",component:"Input",show:!1},{field:"name",label:s("fms.cloudFileTag.name"),component:"Input",required:!0},{field:"remark",label:s("fms.cloudFileTag.remark"),component:"Input"},{field:"status",label:s("fms.cloudFileTag.status"),component:"RadioButtonGroup",defaultValue:1,componentProps:{options:[{label:s("common.on"),value:1},{label:s("common.off"),value:2}]}}],ee=A({__name:"CloudFileTagDrawer",emits:["success","register"],setup(e,{emit:a}){const t=a,n=L(!0),{t:r}=B.useI18n(),[u,{resetFields:d,setFieldsValue:m,validate:l}]=v({labelWidth:160,baseColProps:{span:24},layout:"vertical",schemas:W,showActionButtonGroup:!1}),[c,{setDrawerProps:f,closeDrawer:T}]=O(o=>p(this,null,function*(){yield d(),f({confirmLoading:!1}),n.value=!!(o!=null&&o.isUpdate),i(n)&&(yield m(w({},o.record)))})),b=U(()=>i(n)?r("fms.cloudFileTag.editCloudFileTag"):r("fms.cloudFileTag.addCloudFileTag"));function I(){return p(this,null,function*(){const o=yield l();f({confirmLoading:!0}),o.id=i(n)?Number(o.id):0,(i(n)?yield F(o):yield P(o)).code===0&&(T(),t("success")),f({confirmLoading:!1})})}return(o,k)=>(V(),G(i(Q),j(o.$attrs,{onRegister:i(c),showFooter:"",title:b.value,width:"35%",onOk:I}),{default:N(()=>[$(i(D),{onRegister:i(u)},null,8,["onRegister"])]),_:1},16,["onRegister","title"]))}});export{ee as _,Y as c,Z as s};
