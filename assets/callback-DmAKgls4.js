var i=(l,r,t)=>new Promise((n,o)=>{var u=e=>{try{a(t.next(e))}catch(s){o(s)}},c=e=>{try{a(t.throw(e))}catch(s){o(s)}},a=e=>e.done?n(e.value):Promise.resolve(e.value).then(u,c);a((t=t.apply(l,r)).next())});import{d as f,a7 as p,f as _,S as d,a8 as g}from"./vue-D0RdBkD6.js";import{o as k}from"./oauthProvider-C_-oTPvK.js";import{u as v,b as y,c as E,P as m}from"./entry/index-BPNJPE-d-1727367563404.js";import{d as S}from"./antd-CnnxMtH0.js";const L=f({__name:"callback",setup(l){const{currentRoute:r}=p(),t=v(),{t:n}=y(),o=_("");o.value+="?state="+r.value.query.state,o.value+="&code="+r.value.query.code;function u(c){return i(this,null,function*(){try{const a=yield k(c,"message"),{token:e}=a,s=E();s.setToken(e),yield s.afterLoginAction(!1),t(m.BASE_HOME)}catch(a){S.error(n("sys.oauth.createAccount"),5),t(m.BASE_LOGIN)}})}return u(o.value),(c,a)=>(d(),g("div"))}});export{L as default};
