var i=(o,s,t)=>new Promise((a,n)=>{var c=e=>{try{r(t.next(e))}catch(l){n(l)}},u=e=>{try{r(t.throw(e))}catch(l){n(l)}},r=e=>e.done?a(e.value):Promise.resolve(e.value).then(c,u);r((t=t.apply(o,s)).next())});import{d as m,a7 as p,f as _,S as d,a8 as g}from"./vue-D0RdBkD6.js";import{o as k}from"./oauthProvider-C_-oTPvK.js";import{u as v,b as y,c as h,P as f,_ as E}from"./entry/index-BPNJPE-d-1727367563404.js";import{d as S}from"./antd-CnnxMtH0.js";const b=m({name:"OauthCallbackPage",components:{},setup(){const{currentRoute:o}=p(),s=v(),{t}=y(),a=_("");a.value+="?state="+o.value.query.state,a.value+="&code="+o.value.query.code;function n(c){return i(this,null,function*(){try{const u=yield k(c,"message"),{token:r}=u,e=h();e.setToken(r),yield e.afterLoginAction(!1),s(f.BASE_HOME)}catch(u){S.error(t("sys.oauth.createAccount"),5),s(f.BASE_LOGIN)}})}return n(a.value),{}}});function A(o,s,t,a,n,c){return d(),g("div")}const L=E(b,[["render",A]]);export{L as default};
