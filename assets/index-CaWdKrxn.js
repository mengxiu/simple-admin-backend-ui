var me=Object.defineProperty,he=Object.defineProperties;var we=Object.getOwnPropertyDescriptors;var Q=Object.getOwnPropertySymbols;var ye=Object.prototype.hasOwnProperty,ke=Object.prototype.propertyIsEnumerable;var X=(e,s,o)=>s in e?me(e,s,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[s]=o,w=(e,s)=>{for(var o in s||(s={}))ye.call(s,o)&&X(e,o,s[o]);if(Q)for(var o of Q(s))ke.call(s,o)&&X(e,o,s[o]);return e},j=(e,s)=>he(e,we(s));var Y=(e,s,o)=>new Promise((l,i)=>{var c=u=>{try{r(o.next(u))}catch(h){i(h)}},t=u=>{try{r(o.throw(u))}catch(h){i(h)}},r=u=>u.done?l(u.value):Promise.resolve(u.value).then(c,t);r((o=o.apply(e,s)).next())});import{b as te,f as q,_ as oe,p as A,d as Z,aP as De,w as se,an as ne,aQ as $e,aR as re,am as Be}from"./entry/index-BPNJPE-d-1727367563404.js";import{d as M,c as m,ae as E,S as g,a8 as P,F as Ce,Y as f,U as S,X as d,G as V,ac as L,a0 as R,Z as O,a9 as k,aa as ae,ab as K,k as z,ai as ve,f as y,J as b,u as a,w as W,af as x,m as be,ad as Pe,_ as Oe,$ as Se,y as le,n as Te,g as H,r as ie,h as Fe}from"./vue-D0RdBkD6.js";import{B as Le,S as Re}from"./index-LAC3wiAG.js";import{a4 as He,z as Ne}from"./antd-CnnxMtH0.js";import{i as _e}from"./isNumber-j3SIk7av.js";import{i as je}from"./isDeepEqual-DIYWxe5x.js";const{t:ee}=te(),ce={confirmLoading:{type:Boolean},showCancelBtn:{type:Boolean,default:!0},cancelButtonProps:Object,cancelText:{type:String,default:ee("common.cancelText")},showOkBtn:{type:Boolean,default:!0},okButtonProps:Object,okText:{type:String,default:ee("common.okText")},okType:{type:String,default:"primary"},showFooter:{type:Boolean},footerHeight:{type:[String,Number],default:60}},Ae=w({isDetail:{type:Boolean},title:{type:String,default:""},loadingText:{type:String},showDetailBack:{type:Boolean,default:!0},open:{type:Boolean},loading:{type:Boolean},maskClosable:{type:Boolean,default:!0},getContainer:{type:[Object,String]},closeFunc:{type:[Function,Object],default:null},destroyOnClose:{type:Boolean}},ce),Ee=M({name:"BasicDrawerFooter",props:j(w({},ce),{height:{type:String,default:"60px"}}),emits:["ok","close"],setup(e,{emit:s}){const{prefixCls:o}=q("basic-drawer-footer"),l=m(()=>{const t=`${e.height}`;return{height:t,lineHeight:`calc(${t} - 1px)`}});function i(){s("ok")}function c(){s("close")}return{handleOk:i,prefixCls:o,handleClose:c,getStyle:l}}});function Ve(e,s,o,l,i,c){const t=E("a-button");return e.showFooter||e.$slots.footer?(g(),P("div",{key:0,class:k(e.prefixCls),style:ae(e.getStyle)},[e.$slots.footer?f(e.$slots,"footer",{key:1}):(g(),P(Ce,{key:0},[f(e.$slots,"insertFooter"),e.showCancelBtn?(g(),S(t,R({key:0},e.cancelButtonProps,{onClick:e.handleClose,class:"mr-2"}),{default:d(()=>[V(L(e.cancelText),1)]),_:1},16,["onClick"])):O("",!0),f(e.$slots,"centerFooter"),e.showOkBtn?(g(),S(t,R({key:1,type:e.okType,onClick:e.handleOk},e.okButtonProps,{class:"mr-2",loading:e.confirmLoading}),{default:d(()=>[V(L(e.okText),1)]),_:1},16,["type","onClick","loading"])):O("",!0),f(e.$slots,"appendFooter")],64))],6)):O("",!0)}const ze=oe(Ee,[["render",Ve]]),Ie=M({name:"BasicDrawerHeader",components:{BasicTitle:Le,ArrowLeftOutlined:He},props:{isDetail:A.bool,showDetailBack:A.bool,title:A.string},emits:["close"],setup(e,{emit:s}){const{prefixCls:o}=q("basic-drawer-header");function l(){s("close")}return{prefixCls:o,handleClose:l}}}),qe={key:1};function Me(e,s,o,l,i,c){const t=E("BasicTitle"),r=E("ArrowLeftOutlined");return e.isDetail?(g(),P("div",{key:1,class:k([e.prefixCls,`${e.prefixCls}--detail`])},[K("span",{class:k(`${e.prefixCls}__twrap`)},[e.showDetailBack?(g(),P("span",{key:0,onClick:s[0]||(s[0]=(...u)=>e.handleClose&&e.handleClose(...u))},[z(r,{class:k(`${e.prefixCls}__back`)},null,8,["class"])])):O("",!0),e.title?(g(),P("span",qe,L(e.title),1)):O("",!0)],2),K("span",{class:k(`${e.prefixCls}__toolbar`)},[f(e.$slots,"titleToolbar")],2)],2)):(g(),S(t,{key:0,class:k(e.prefixCls)},{default:d(()=>[f(e.$slots,"title"),V(" "+L(e.$slots.title?"":e.title),1)]),_:3},8,["class"]))}const Ue=oe(Ie,[["render",Me]]),Ge=M({inheritAttrs:!1,__name:"BasicDrawer",props:Ae,emits:["open-change","ok","close","register"],setup(e,{emit:s}){const o=s,l=e,i=ve(),c=y(!1),t=De(),r=y(null),{t:u}=te(),{prefixVar:h,prefixCls:$}=q("basic-drawer"),T={setDrawerProps:de,emitOpen:void 0},F=H();F&&o("register",T,F.uid);const U=m(()=>Z(a(r),b(l))),B=m(()=>{const n=j(w(w({placement:"right"},a(t)),a(U)),{open:a(c)});n.title=void 0;const{isDetail:p,width:C,wrapClassName:v,getContainer:_}=n;if(p){C||(n.width="100%");const J=`${$}__detail`;n.class=v?`${v} ${J}`:J,_||(n.getContainer=`.${h}-layout-content`)}return n}),ue=m(()=>w(w({},t),a(B))),G=m(()=>{const{footerHeight:n,showFooter:p}=a(B);return p&&n?_e(n)?`${n}px`:`${n.replace("px","")}px`:"0px"}),pe=m(()=>({position:"relative",height:`calc(100% - ${a(G)})`})),fe=m(()=>{var n;return!!((n=a(B))!=null&&n.loading)});W(()=>l.open,(n,p)=>{n!==p&&(c.value=n)},{deep:!0}),W(()=>c.value,n=>{le(()=>{var p;o("open-change",n),F&&((p=T.emitOpen)==null||p.call(T,n,F.uid))})});function N(n){return Y(this,null,function*(){const{closeFunc:p}=a(B);if(o("close",n),p&&se(p)){const C=yield p();c.value=!C;return}c.value=!1})}function de(n){r.value=Z(a(r)||{},n),Reflect.has(n,"open")&&(c.value=!!n.open)}function ge(){o("ok")}return(n,p)=>{const C=Te("loading");return g(),S(a(Ne),R({class:a($),onClose:N},ue.value),x({extra:d(()=>[f(n.$slots,"extra")]),default:d(()=>[be((g(),S(a(Re),{style:ae(pe.value),"loading-tip":l.loadingText||a(u)("common.loadingText")},{default:d(()=>[f(n.$slots,"default")]),_:3},8,["style","loading-tip"])),[[C,fe.value]]),z(ze,R(B.value,{onClose:N,onOk:ge,height:G.value}),x({_:2},[Pe(Object.keys(a(i)),v=>({name:v,fn:d(_=>[f(n.$slots,v,Oe(Se(_||{})))])}))]),1040,["height"])]),_:2},[a(i).title?{name:"title",fn:d(()=>[f(n.$slots,"title")]),key:"1"}:{name:"title",fn:d(()=>[z(Ue,{title:U.value.title,isDetail:l.isDetail,showDetailBack:l.showDetailBack,onClose:N},{titleToolbar:d(()=>[f(n.$slots,"titleToolbar")]),_:3},8,["title","isDetail","showDetailBack"])]),key:"0"}]),1040,["class"])}}}),D=ie({}),I=ie({});function xe(){if(!H())throw new Error("useDrawer() can only be used inside setup() or functional components!");const e=y(null),s=y(!1),o=y(0);function l(t,r){ne(()=>{e.value=null,s.value=null,D[a(o)]=null}),!(a(s)&&$e()&&t===a(e))&&(o.value=r,e.value=t,s.value=!0,t.emitOpen=(u,h)=>{I[h]=u})}const i=()=>{const t=a(e);return t||re("useDrawer instance is undefined!"),t},c={setDrawerProps:t=>{var r;(r=i())==null||r.setDrawerProps(t)},getOpen:m(()=>I[~~a(o)]),openDrawer:(t=!0,r,u=!0)=>{var $;if(($=i())==null||$.setDrawerProps({open:t}),!r)return;if(u){D[a(o)]=null,D[a(o)]=b(r);return}je(b(D[a(o)]),b(r))||(D[a(o)]=b(r))},closeDrawer:()=>{var t;(t=i())==null||t.setDrawerProps({open:!1})}};return[l,c]}const et=e=>{const s=y(null),o=H(),l=y(0);if(!H())throw new Error("useDrawerInner() can only be used inside setup() or functional components!");const i=()=>{const t=a(s);if(!t){re("useDrawerInner instance is undefined!");return}return t},c=(t,r)=>{ne(()=>{s.value=null}),l.value=r,s.value=t,o==null||o.emit("register",t,r)};return Fe(()=>{const t=D[a(l)];t&&(!e||!se(e)||le(()=>{e(t)}))}),[c,{changeLoading:(t=!0)=>{var r;(r=i())==null||r.setDrawerProps({loading:t})},changeOkLoading:(t=!0)=>{var r;(r=i())==null||r.setDrawerProps({confirmLoading:t})},getOpen:m(()=>I[~~a(l)]),closeDrawer:()=>{var t;(t=i())==null||t.setDrawerProps({open:!1})},setDrawerProps:t=>{var r;(r=i())==null||r.setDrawerProps(t)}}]},tt=Be(Ge);export{tt as B,et as a,xe as u};
