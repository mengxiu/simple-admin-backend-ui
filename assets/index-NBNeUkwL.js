var u=(f,o,r)=>new Promise((n,s)=>{var m=e=>{try{a(r.next(e))}catch(i){s(i)}},p=e=>{try{a(r.throw(e))}catch(i){s(i)}},a=e=>e.done?n(e.value):Promise.resolve(e.value).then(m,p);a((r=r.apply(f,o)).next())});import{u as w,_ as v}from"./useTable-C1zHh-l8.js";import{a as x}from"./useForm-BzgFlAKs.js";import{u as k}from"./index-CaWdKrxn.js";import{c as S,_ as D}from"./OauthDrawer.vue_vue_type_script_setup_true_lang-hznCa9dg.js";import{v as P}from"./entry/index-BPNJPE-d-1727367563404.js";import{g as I,d as R}from"./oauthProvider-C_-oTPvK.js";import{P as T}from"./index-CU2O72Tc.js";import{d as N,ae as O,S as h,U as g,X as l,k as d,u as t,G as U,ac as V,Z as $}from"./vue-D0RdBkD6.js";import"./index-LAC3wiAG.js";import"./antd-CnnxMtH0.js";import"./isBoolean-Dou3jA6I.js";import"./index-BoOgNZ_b.js";import"./useWindowSizeFn-C71HDhub.js";import"./isDeepEqual-DIYWxe5x.js";import"./isNumber-j3SIk7av.js";import"./index-DDNUB-iW.js";import"./object-BY_VTB7H.js";import"./onMountedOrActivated-CyX9qi6i.js";import"./sortable.esm-BEDva30o.js";import"./index-DgmEQ_L6.js";import"./copyTextToClipboard-DU2l1C12.js";import"./useSortable-s3dauH_p.js";import"./index-BLETcaq3.js";import"./index-CBEN6l7B.js";import"./useContentViewHeight-b3bBSljJ.js";const me=N({name:"OauthManagement",__name:"index",setup(f){const{t:o}=P.useI18n(),[r,{openDrawer:n}]=k(),[s,{reload:m}]=w({title:o("sys.oauth.providerList"),api:I,columns:S,useSearchForm:!1,showTableSetting:!0,bordered:!0,showIndexColumn:!1,actionColumn:{width:30,title:o("common.action"),dataIndex:"action",fixed:void 0}});function p(){n(!0,{isUpdate:!1})}function a(c){n(!0,{record:c,isUpdate:!0})}function e(c){return u(this,null,function*(){(yield R({ids:[c.id]})).code===0&&(yield m())})}function i(){return u(this,null,function*(){yield m()})}return(c,C)=>{const y=O("a-button");return h(),g(t(T),null,{default:l(()=>[d(t(v),{onRegister:t(s)},{toolbar:l(()=>[d(y,{type:"primary",onClick:p},{default:l(()=>[U(V(t(o)("sys.oauth.addProvider")),1)]),_:1})]),bodyCell:l(({column:b,record:_})=>[b.key==="action"?(h(),g(t(x),{key:0,actions:[{icon:"clarity:note-edit-line",onClick:a.bind(null,_)},{icon:"ant-design:delete-outlined",color:"error",popConfirm:{title:t(o)("common.deleteConfirm"),placement:"left",confirm:e.bind(null,_)}}]},null,8,["actions"])):$("",!0)]),_:1},8,["onRegister"]),d(D,{onRegister:t(r),onSuccess:i},null,8,["onRegister"])]),_:1})}}});export{me as default};
